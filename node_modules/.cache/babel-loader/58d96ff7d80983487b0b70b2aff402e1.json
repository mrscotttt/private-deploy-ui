{"ast":null,"code":"import moment from 'moment';\nexport default {\n  name: 'dragTicket',\n  props: ['parentmessage'],\n  data: () => ({\n    previewDialog: false,\n    items: ['Foo', 'Bar', 'Fizz', 'Buzz'],\n    statusSelect: [\"pending\", \"accepted\", \"resolved\", \"rejected\"],\n    yearSelect: [1, 2, 3, 4, 5, 6, 7, 8, \"จบการศึกษา\"],\n    facultySelect: [\"คณะเกษตร\", \"คณะบริหารธุรกิจ\", \"คณะประมง\", \"คณะมนุษยศาสตร์\", \"คณะวนศาสตร์\", \"คณะวิทยาศาสตร์\", \"คณะวิศวกรรมศาสตร์\", \"คณะศึกษาศาสตร์\", \"คณะเศรษฐศาสตร์\", \"คณะสถาปัตยกรรมศาสตร์\", \"คณะสังคมศาสตร์\", \"คณะสัตวแพทยศาสตร์\", \"คณะอุตสาหกรรมเกษตร\", \"คณะเทคนิคการสัตวแพทย์\", \"คณะสิ่งแวดล้อม\"],\n    editTicket: []\n  }),\n  computed: {\n    createTime() {\n      return moment(this.parentmessage.createTime).format(\"DD MMM YYYY hh:mm\");\n    },\n    lastUpdate() {\n      return moment(this.parentmessage.lastUpdate).format(\"DD MMM YYYY hh:mm\");\n    },\n    sct() {\n      return [\"pending\", \"accepted\", \"resolved\", \"rejected\"];\n    }\n    // editTicket(){\n    //   return this.parentmessage\n    // }\n  },\n\n  methods: {\n    changeDialog(s) {\n      this.previewDialog = s;\n    },\n    async hookticket() {\n      try {\n        let url = \"/ticketById/\" + this.parentmessage.ticketId + \"/\" + this.parentmessage.createTime;\n        let tkt = await axios.get(url);\n        this.editTicket = tkt.data.Items;\n      } catch (err) {\n        this.editTicket = [];\n      }\n    }\n  },\n  created: async function () {\n    await this.hookticket();\n  }\n};","map":{"version":3,"mappings":"AA6HA;AACA;EACAA;EACAC;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC,+CACA,sGACA,iFACA;IACAC;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACA;IACA;EACA;;EACAC;IACAC;MACA;IACA;IACA;MACA;QACA;QACA;QACA;MACA,EACA;QACA;MACA;IACA;EACA;EACAC;IACA;EACA;AAEA","names":["name","props","data","previewDialog","items","statusSelect","yearSelect","facultySelect","editTicket","computed","createTime","lastUpdate","sct","methods","changeDialog","created"],"sourceRoot":"src/components","sources":["addTicket.vue"],"sourcesContent":["<template> \r\n  <v-dialog v-model=\"previewDialog\" width=\"650\" height=\"500\" class=\"rounded-3xl dragFont\">\r\n    <template v-slot:activator=\"{ on, attrs }\">\r\n      <a @click=\"changeDialog(true)\" class=\"w-8 h-8 mr-4\" v-bind=\"attrs\" v-on=\"on\" >\r\n        <font-awesome-icon class=\"w-8 h-8 text-yellow-500\" icon=\"fa-solid fa-pen-to-square\" />\r\n      </a>\r\n    </template>\r\n    <div class=\"w-full h-full mx-auto bg-gray-300 dragFont\">\r\n      <div class=\"flex flex-col\">\r\n        <div class=\"bg-white relative drop-shadow-2xl   p-4 m-4\">\r\n          <div class=\"flex-none sm:flex\">\r\n            <div class=\" relative h-32 w-32   sm:mb-0 mb-3 hidden\">\r\n              <a href=\"#\"\r\n                class=\"absolute -right-2 bottom-2   -ml-3  text-white p-1 text-xs bg-green-400 hover:bg-green-500 font-medium tracking-wider rounded-full transition ease-in duration-300\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\"\r\n                  class=\"h-4 w-4\">\r\n                  <path\r\n                    d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\">\r\n                  </path>\r\n                </svg>\r\n              </a>\r\n            </div>\r\n            <div class=\"flex-auto justify-evenly\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <div class=\"flex items-center  my-1\">\r\n                  <span class=\"mr-3 rounded-full bg-white w-8 h-8\"></span>\r\n                  <h2 class=\"text-s font-bold\">Ticket Update {{editTicket}}</h2>\r\n                </div>\r\n                <button @click=\"changeDialog(false)\" class=\"ml-auto p-2 bg-rose-700 hover:bg-sky-700 rounded-md text-white\">Close</button>\r\n              </div>\r\n              <div class=\"border-b border-dashed border-b-2 my-5\"></div>\r\n              <div class=\"items-center\">\r\n                <div class=\"grid grid-cols-1 gap-2\">\r\n                  <div class=\"p-4\">\r\n                    <div class=\"ml-auto text-gray-300\">Id : {{parentmessage.ticketId}}</div>\r\n                    <div class=\"text-sm mt-4\">Title</div>\r\n                    <div class=\"text-s font-bold border-2 shadow-2xl\">\r\n                      <input type=\"text\" class=\"w-full\" v-model=\"parentmessage.title\"></input>\r\n                    </div>\r\n                    <div class=\"text-sm mt-4\">Description</div>\r\n                    <div class=\"text-s font-bold border-2 shadow-2xl\">\r\n                      <textarea class=\"w-full h-auto overflow-y-auto overflow-x-auto p-2\" v-model=\"parentmessage.description\"></textarea>\r\n                    </div>\r\n                    <div class=\"text-sm mt-4\">Status</div>\r\n                    <div class=\"text-s font-bold border-2 shadow-2xl p-2\">\r\n                      <select class=\"block w-full appearance-none peer\">\r\n                        <option v-for=\"(element, index) in statusSelect\" >{{element}}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div> \r\n                </div>\r\n                \r\n                <div class=\"border-b border-dashed border-b-2 my-5 pt-5\">\r\n                  <div class=\"absolute rounded-full w-5 h-5 bg-gray-300 -mt-2 -left-2\"></div>\r\n                  <div class=\"absolute rounded-full w-5 h-5 bg-gray-300 -mt-2 -right-2\"></div>\r\n                </div>\r\n                \r\n                <div>\r\n                  <div class=\"grid grid-cols-2 gap-2\">\r\n                    <div class=\"p-4\">\r\n                      <div class=\"text-sm\">Name</div>\r\n                      <div class=\"text-s font-bold\">{{parentmessage.contact.name}}</div>\r\n                    </div>\r\n                    <div class=\"p-4\">\r\n                      <div class=\"text-sm\">Student ID</div>\r\n                      <div class=\"text-s font-bold\">{{parentmessage.contact.studentId}}</div>\r\n                    </div>\r\n                  </div> \r\n                </div>\r\n\r\n                <div>\r\n                  <div class=\"grid grid-cols-2 gap-2\">\r\n                    <div class=\"p-4\">\r\n                      <div class=\"text-sm\">Faculty</div>\r\n                      <div class=\"text-s font-bold\">{{parentmessage.contact.faculty}}</div>\r\n                    </div>\r\n                    <div class=\"p-4\">\r\n                      <div class=\"text-sm\">Major</div>\r\n                      <div class=\"text-s font-bold\">{{parentmessage.contact.major}}</div>\r\n                    </div>\r\n                  </div> \r\n                </div>\r\n\r\n                <div>\r\n                  <div class=\"grid grid-cols-2 gap-2\">\r\n                    <div class=\"p-4\">\r\n                      <div class=\"text-sm\">Telephone</div>\r\n                      <div class=\"text-s font-bold\">{{parentmessage.contact.telephone}}</div>\r\n                    </div>\r\n                    <div class=\"p-4\">\r\n                      <div class=\"text-sm\">Year</div>\r\n                      <div class=\"text-s font-bold\">{{parentmessage.contact.year}}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"border-b border-dashed border-b-2 my-5 pt-5\">\r\n                  <div class=\"absolute rounded-full w-5 h-5 bg-gray-300 -mt-2 -left-2\"></div>\r\n                  <div class=\"absolute rounded-full w-5 h-5 bg-gray-300 -mt-2 -right-2\"></div>\r\n                </div>\r\n                \r\n                <div>\r\n                  <div class=\"grid grid-cols-2 gap-2\">\r\n                    <div class=\"p-4\">\r\n                      <div class=\"text-sm\">Create On</div>\r\n                      <div class=\"text-s font-bold\">{{createTime}}</div>\r\n                    </div>\r\n                    <div class=\"p-4\">\r\n                      <div class=\"text-sm\">Last Update</div>\r\n                      <div class=\"text-s font-bold\">{{lastUpdate}}</div>\r\n                    </div>\r\n                  </div> \r\n                </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n</v-dialog>\r\n</v-row>\r\n</template>\r\n\r\n  <script>\r\n  import moment from 'moment';\r\n  export default {\r\n    name: 'dragTicket',\r\n    props: ['parentmessage'],\r\n    data: () => ({\r\n      previewDialog: false,\r\n      items: ['Foo', 'Bar', 'Fizz', 'Buzz'],\r\n      statusSelect: [\"pending\",\"accepted\",\"resolved\",\"rejected\"],\r\n      yearSelect: [1,2,3,4,5,6,7,8,\"จบการศึกษา\"],\r\n      facultySelect: [\"คณะเกษตร\",\"คณะบริหารธุรกิจ\",\r\n      \"คณะประมง\",\"คณะมนุษยศาสตร์\",\"คณะวนศาสตร์\",\"คณะวิทยาศาสตร์\",\"คณะวิศวกรรมศาสตร์\",\"คณะศึกษาศาสตร์\",\r\n      \"คณะเศรษฐศาสตร์\",\"คณะสถาปัตยกรรมศาสตร์\",\"คณะสังคมศาสตร์\",\"คณะสัตวแพทยศาสตร์\",\r\n      \"คณะอุตสาหกรรมเกษตร\",\"คณะเทคนิคการสัตวแพทย์\",\"คณะสิ่งแวดล้อม\",],\r\n      editTicket: []\r\n    }),\r\n    computed: {\r\n        createTime(){\r\n          return moment(this.parentmessage.createTime).format(\"DD MMM YYYY hh:mm\")\r\n        },\r\n        lastUpdate(){\r\n          return moment(this.parentmessage.lastUpdate).format(\"DD MMM YYYY hh:mm\")\r\n        },\r\n        sct(){\r\n          return [\"pending\",\"accepted\",\"resolved\",\"rejected\"]\r\n        },\r\n        // editTicket(){\r\n        //   return this.parentmessage\r\n        // }\r\n    },\r\n    methods: {\r\n        changeDialog(s) {\r\n          this.previewDialog = s\r\n        },\r\n        async hookticket() {\r\n            try{\r\n                let url = \"/ticketById/\"+this.parentmessage.ticketId+\"/\"+this.parentmessage.createTime\r\n                let tkt = await axios.get(url)\r\n                this.editTicket = tkt.data.Items\r\n            }\r\n            catch(err){\r\n                this.editTicket = []\r\n            }\r\n        },\r\n    },\r\n    created: async function(){\r\n        await this.hookticket()\r\n    },\r\n\r\n  }\r\n  </script>\r\n\r\n  <style>\r\n  @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@500&family=Prompt:wght@500&display=swap');\r\n  .dragFont{\r\n    font-family: 'IBM Plex Sans Thai', sans-serif !important;\r\n  }\r\n  .barcode {\r\n\t\tleft: 50%;\r\n\t\tbox-shadow: 1px 0 0 1px, 5px 0 0 1px, 10px 0 0 1px, 11px 0 0 1px, 15px 0 0 1px, 18px 0 0 1px, 22px 0 0 1px, 23px 0 0 1px, 26px 0 0 1px, 30px 0 0 1px, 35px 0 0 1px, 37px 0 0 1px, 41px 0 0 1px, 44px 0 0 1px, 47px 0 0 1px, 51px 0 0 1px, 56px 0 0 1px, 59px 0 0 1px, 64px 0 0 1px, 68px 0 0 1px, 72px 0 0 1px, 74px 0 0 1px, 77px 0 0 1px, 81px 0 0 1px, 85px 0 0 1px, 88px 0 0 1px, 92px 0 0 1px, 95px 0 0 1px, 96px 0 0 1px, 97px 0 0 1px, 101px 0 0 1px, 105px 0 0 1px, 109px 0 0 1px, 110px 0 0 1px, 113px 0 0 1px, 116px 0 0 1px, 120px 0 0 1px, 123px 0 0 1px, 127px 0 0 1px, 130px 0 0 1px, 131px 0 0 1px, 134px 0 0 1px, 135px 0 0 1px, 138px 0 0 1px, 141px 0 0 1px, 144px 0 0 1px, 147px 0 0 1px, 148px 0 0 1px, 151px 0 0 1px, 155px 0 0 1px, 158px 0 0 1px, 162px 0 0 1px, 165px 0 0 1px, 168px 0 0 1px, 173px 0 0 1px, 176px 0 0 1px, 177px 0 0 1px, 180px 0 0 1px;\r\n\t\tdisplay: inline-block;\r\n\t\ttransform: translateX(-90px);\r\n\t}\r\n  </style>\r\n\r\n<!-- <template>\r\n    <div>\r\n      <v-dialog v-model=\"dialog\" width=\"720\" height=\"500\" >\r\n        <template v-slot:activator=\"{ on, attrs }\">\r\n          <v-btn v-bind=\"attrs\" v-on=\"on\" color=\"red\" dark>\r\n            Delete\r\n          </v-btn>\r\n        </template>\r\n\r\n        <div class=\"bg-white addBox shadow-md rounded w-full\">\r\n          <v-text-field\r\n            v-model=\"add.title\"\r\n            solo\r\n            clearable\r\n            required\r\n          ></v-text-field>\r\n          <v-text-field\r\n            v-model=\"add.description\"\r\n            solo\r\n            clearable\r\n            required\r\n          ></v-text-field>\r\n\r\n          <v-select :options=\"['Canada', 'United States']\"></v-select>\r\n          <v-select\r\n            v-model=\"add.status\"\r\n            items=\"statusSelect\"\r\n            solo\r\n            required\r\n          ></v-select>\r\n          <v-autocomplete\r\n            v-model=\"add.status\"\r\n            items=\"statusSelect\"\r\n            dense\r\n            chips\r\n            small-chips\r\n            label=\"Solo\"\r\n            multiple\r\n            solo\r\n          ></v-autocomplete>\r\n\r\n          <select id=\"underline_select\" class=\"block py-2.5 mb-12 px-0 w-full text-sm text-gray-500 bg-transparent border-4 border-b-2 border-gray-200 appearance-none dark:text-gray-400 dark:border-gray-700 focus:outline-none focus:ring-0 focus:border-gray-200 peer\">\r\n            <option selected>Choose a country</option>\r\n            <option value=\"US\">United States</option>\r\n            <option value=\"CA\">Canada</option>\r\n            <option value=\"FR\">France</option>\r\n            <option value=\"DE\">Germany</option>\r\n          </select>\r\n\r\n          <v-text-field\r\n            v-model=\"add.name\"\r\n            solo\r\n            clearable\r\n            required\r\n          ></v-text-field>\r\n          <v-text-field\r\n            v-model=\"add.studentId\"\r\n            solo\r\n            clearable\r\n            required\r\n          ></v-text-field>\r\n          <v-text-field\r\n            v-model=\"add.telephone\"\r\n            solo\r\n            clearable\r\n            required\r\n          ></v-text-field>\r\n          <v-select\r\n            v-model=\"add.faculty\"\r\n            :items=\"facultySelect\"\r\n            solo\r\n            required\r\n          ></v-select>\r\n          <v-text-field\r\n            v-model=\"add.major\"\r\n            solo\r\n            clearable\r\n            required\r\n          ></v-text-field>\r\n          <v-select\r\n            v-model=\"add.year\"\r\n            :items=\"yearSelect\"\r\n            solo\r\n            required\r\n          ></v-select>\r\n          <v-btn\r\n            color=\"warning\"\r\n            @click=\"save()\"\r\n          >\r\n            save{{load}}\r\n          </v-btn>\r\n          \r\n        </div>\r\n      </v-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'App',\r\n  data: () => ({\r\n    dialog: false,\r\n    load: false,\r\n    add:{\r\n      title: \"ไฟดับคณะวิศวกรรมคอมพิวเตอร์\",\r\n      description: \"ไฟดับคณะวิศวกรรมคอมพิวเตอร์ ้hall-201\",\r\n      status: \"pending\",\r\n      name: \"อนุชา พิพิธ\",\r\n      studentId: \"6110507903\",\r\n      telephone: \"0632092302\",\r\n      major: \"วิศวกรรมคอมพิวเตอร์\",\r\n      faculty: \"คณะวิศวกรรมศาสตร์\",\r\n      year: 1\r\n    },\r\n    statusSelect: [\"pending\",\"accepted\",\"resolved\",\"rejected\"],\r\n    yearSelect: [1,2,3,4,5,6,7,8,\"จบการศึกษา\"],\r\n    facultySelect: [\"คณะเกษตร\",\"คณะบริหารธุรกิจ\",\r\n    \"คณะประมง\",\"คณะมนุษยศาสตร์\",\"คณะวนศาสตร์\",\"คณะวิทยาศาสตร์\",\"คณะวิศวกรรมศาสตร์\",\"คณะศึกษาศาสตร์\",\r\n    \"คณะเศรษฐศาสตร์\",\"คณะสถาปัตยกรรมศาสตร์\",\"คณะสังคมศาสตร์\",\"คณะสัตวแพทยศาสตร์\",\r\n    \"คณะอุตสาหกรรมเกษตร\",\"คณะเทคนิคการสัตวแพทย์\",\"คณะสิ่งแวดล้อม\",]\r\n  }),\r\n  methods: {\r\n    async save() {\r\n        console.log(\"save\")\r\n        this.load = true\r\n        try{\r\n          let tkt = await axios.post('/addTicket',this.add)\r\n          console.log(\"save success\")\r\n          this.load = false\r\n          this.dialog = false\r\n        }\r\n        catch(err){\r\n          this.load = false\r\n          console.log(\"save fail\",err)\r\n        }\r\n    }\r\n\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.addBox{\r\n  height: 800px;\r\n  padding: 24px;\r\n}\r\n\r\n</style> -->"]},"metadata":{},"sourceType":"module"}