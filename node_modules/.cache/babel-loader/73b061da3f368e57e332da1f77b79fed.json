{"ast":null,"code":"import draggable from \"vuedraggable\";\nimport axios from 'axios';\nimport previewTicket from './previewTicket';\nimport addTicket from './addTicket';\nimport addNewTicket from './addNewTicket';\nimport moment from 'moment';\nexport default {\n  name: 'dragTicket',\n  components: {\n    draggable,\n    previewTicket,\n    addTicket,\n    addNewTicket\n  },\n  data: () => ({\n    previewDialog: false,\n    report: [],\n    ticketCard: [],\n    statusGroup: 'all',\n    filterMode: 'Create Time (New)',\n    searchKey: '',\n    headers: [{\n      text: 'Title',\n      value: 'title',\n      width: '20%',\n      sortable: false\n    }, {\n      text: 'Description',\n      value: 'description',\n      width: '20%',\n      sortable: false\n    }, {\n      text: 'Create On',\n      align: 'start',\n      sortable: false,\n      value: 'createTimeFormat',\n      width: '10%'\n    }, {\n      text: 'Last Update',\n      value: 'lastUpdateFormat',\n      width: '10%',\n      sortable: false\n    }, {\n      text: 'status',\n      value: 'status',\n      width: '10%',\n      sortable: false\n    }, {\n      text: 'Contact',\n      value: 'contact',\n      width: '10%',\n      sortable: false\n    }, {\n      text: 'Action',\n      value: 'action',\n      width: '10%',\n      sortable: false\n    }]\n  }),\n  created: async function () {\n    await this.hookticket();\n  },\n  computed: {\n    filterTicket() {\n      let demo = this.ticketCard;\n      // return moment(this.editTicket.createTime).format(\"DD MMM YYYY hh:mm\")\n      if (\"Create Time (Old)\") {\n        demo.sort((a, b) => a.createTime - b.createTime);\n      }\n      if (\"Create Time (New)\") {\n        demo.sort((a, b) => b.createTime - a.createTime);\n      }\n    }\n  },\n  methods: {\n    async hookticket() {\n      try {\n        let tkt = await axios.get('/ticket');\n        this.ticketCard = tkt.data.Items;\n        if (this.ticketCard.length > 0) {\n          this.ticketCard.sort((a, b) => b.createTime - a.createTime);\n        }\n      } catch (err) {\n        this.ticketCard = [];\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAkFA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;EACAC;IAAAC;IAAAC;IAAAC;IAAAC;EAAA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC,UACA;MAAAC;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAH;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAH;MAAAI;MAAAD;MAAAF;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAH;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAH;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAH;MAAAC;MAAAC;MAAAC;IAAA;EAEA;EACAE;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;QAAAC;MAAA;MACA;QAAAA;MAAA;IACA;EAGA;EACAC;IACA;MACA;QACA;QACA;QACA;UAAA;QAAA;MACA,EACA;QACA;MACA;IACA;EAEA;AACA","names":["name","components","draggable","previewTicket","addTicket","addNewTicket","data","previewDialog","report","ticketCard","statusGroup","filterMode","searchKey","headers","text","value","width","sortable","align","created","computed","filterTicket","demo","methods"],"sourceRoot":"src/components","sources":["tableTicket.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-16 dragFont\">\r\n      <div class=\"overflow-y-auto overflow-x-auto rounded-lg dragArea w-full justify-center  p-8 text-black drop-shadow-2xl backdrop-blur-md bg-white/60\">\r\n          <!-- {{ticketGroup}} -->\r\n          <!-- <div class=\"flex-inline\">\r\n            <div class=\"text-s font-bold border-2 shadow-2xl p-2\">\r\n              <select v-model=\"filterMode\" class=\"block w-200 appearance-none peer\">\r\n                <option>good</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div class=\"text-s font-bold border-2 shadow-2xl p-2\">\r\n              <select v-model=\"filterMode\" class=\"block w-200 appearance-none peer\">\r\n                <option>good</option>\r\n              </select>\r\n            </div>\r\n          </div> -->\r\n          <div class=\"grid grid-cols-3 gap-2 mb-8 \">\r\n            <div class=\"\">\r\n              <div class=\"text-sm mb-2\">Filter key</div>\r\n              <select v-model=\"filterMode\" class=\"text-s font-bold border-2 bg-white shadow-sm p-2 block w-full appearance-none peer\">\r\n                <option>Create Time (Old)</option>\r\n                <option>Create Time (New)</option>\r\n                <option>Update Time (Old)</option>\r\n                <option>Update Time (New)</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"\">\r\n              <div class=\"text-sm mb-2\">Status</div>\r\n              <select v-model=\"filterMode\" class=\"block w-full appearance-none peer text-s font-bold border-2 bg-white shadow-sm,, p-2\">\r\n                <option>all</option>\r\n                <option>pending</option>\r\n                <option>accepted</option>\r\n                <option>resolved</option>\r\n                <option>rejected</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <div class=\"text-sm mb-2\">Search</div>\r\n              <div class=\"text-s font-bold border-2 shadow-xs\">\r\n                <input type=\"text\" class=\"w-full\" v-model=\"searchKey\"></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <v-data-table\r\n              :headers=\"headers\"\r\n              :items=\"ticketCard\"\r\n              :items-per-page=\"15\"\r\n              class=\"elevation-1\"\r\n          >\r\n            <template #[`item.status`]=\"{ item }\">\r\n              <div v-if=\"item.status=='pending'\" class=\"text-indigo-600  p-2 m-1 w-full \">pending</div>\r\n              <div v-if=\"item.status=='accepted'\" class=\"text-yellow-600  p-2 m-1 w-full \">accepted</div>\r\n              <div v-if=\"item.status=='resolved'\" class=\"text-teal-600  p-2 m-1 w-full \">resolved</div>\r\n              <div v-if=\"item.status=='rejected'\" class=\"text-red-600  p-2 m-1 w-full \">rejected</div>\r\n            </template>\r\n\r\n            <template #[`item.contact`]=\"{ item }\">\r\n              <div>Tel : {{item.contact.telephone}}</div>\r\n            </template>\r\n\r\n            <template #[`item.action`]=\"{ item }\">\r\n              <div class=\"flex-inline\">\r\n              <previewTicket :parentmessage=\"item\"></previewTicket>\r\n              <addTicket :parentmessage=\"item\"></addTicket>\r\n            </div>\r\n            </template>\r\n\r\n            <!-- <div>\r\n              <previewTicket :parentmessage=\"element\"></previewTicket>\r\n            </div>\r\n\r\n            <div>\r\n              <addTicket :parentmessage=\"element\"></addTicket>\r\n            </div> -->\r\n          </v-data-table>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from \"vuedraggable\";\r\nimport axios from 'axios'\r\nimport previewTicket from './previewTicket';\r\nimport addTicket from './addTicket';\r\nimport addNewTicket from './addNewTicket';\r\nimport moment from 'moment';\r\n\r\nexport default {\r\n  name: 'dragTicket',\r\n  components: {draggable,previewTicket,addTicket,addNewTicket},\r\n  data: () => ({\r\n    previewDialog: false,\r\n    report: [],\r\n    ticketCard: [],\r\n    statusGroup: 'all',\r\n    filterMode: 'Create Time (New)',\r\n    searchKey: '',\r\n    headers: [\r\n          { text: 'Title', value: 'title',width: '20%',sortable: false, },\r\n          { text: 'Description', value: 'description',width: '20%',sortable: false, },\r\n          { text: 'Create On',align: 'start',sortable: false, value: 'createTimeFormat',width: '10%'},\r\n          { text: 'Last Update', value: 'lastUpdateFormat',width: '10%',sortable: false, },\r\n          { text: 'status', value: 'status',width: '10%',sortable: false, },\r\n          { text: 'Contact', value: 'contact',width: '10%',sortable: false, },\r\n          { text: 'Action', value: 'action',width: '10%',sortable: false,},\r\n        ],\r\n  }),\r\n  created: async function(){\r\n      await this.hookticket()\r\n  },\r\n  computed: {\r\n      filterTicket(){\r\n        let demo = this.ticketCard\r\n        // return moment(this.editTicket.createTime).format(\"DD MMM YYYY hh:mm\")\r\n        if(\"Create Time (Old)\"){demo.sort((a, b) => a.createTime - b.createTime);}\r\n        if(\"Create Time (New)\"){demo.sort((a, b) => b.createTime - a.createTime);}\r\n      }\r\n\r\n\r\n  },\r\n  methods: {\r\n      async hookticket() {\r\n          try{\r\n              let tkt = await axios.get('/ticket')\r\n              this.ticketCard = tkt.data.Items\r\n              if(this.ticketCard.length>0){this.ticketCard.sort((a, b) => b.createTime - a.createTime);}\r\n          }\r\n          catch(err){\r\n              this.ticketCard = []\r\n          }\r\n      },\r\n\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@500&family=Prompt:wght@500&display=swap');\r\n.dragFont{\r\n  font-family: 'IBM Plex Sans Thai', sans-serif !important;\r\n}\r\n\r\n.dragArea{\r\n  height: 1050px !important;\r\n}\r\n.dragInnerArea{\r\n  height: 900px !important;\r\n}\r\n.column-width {\r\n  min-width: 320px;\r\n  width: 320px;\r\n}\r\n.ghost-card {\r\n  opacity: 0.5;\r\n  background: #F7FAFC;\r\n  border: 1px solid #4299e1;\r\n}\r\n.ticketCard {\r\n  opacity: 0.5;\r\n  background: #F7FAFC;\r\n  border: 1px solid #4299e1;\r\n}\r\n.barcode {\r\n  left: 50%;\r\n  box-shadow: 1px 0 0 1px, 5px 0 0 1px, 10px 0 0 1px, 11px 0 0 1px, 15px 0 0 1px, 18px 0 0 1px, 22px 0 0 1px, 23px 0 0 1px, 26px 0 0 1px, 30px 0 0 1px, 35px 0 0 1px, 37px 0 0 1px, 41px 0 0 1px, 44px 0 0 1px, 47px 0 0 1px, 51px 0 0 1px, 56px 0 0 1px, 59px 0 0 1px, 64px 0 0 1px, 68px 0 0 1px, 72px 0 0 1px, 74px 0 0 1px, 77px 0 0 1px, 81px 0 0 1px, 85px 0 0 1px, 88px 0 0 1px, 92px 0 0 1px, 95px 0 0 1px, 96px 0 0 1px, 97px 0 0 1px, 101px 0 0 1px, 105px 0 0 1px, 109px 0 0 1px, 110px 0 0 1px, 113px 0 0 1px, 116px 0 0 1px, 120px 0 0 1px, 123px 0 0 1px, 127px 0 0 1px, 130px 0 0 1px, 131px 0 0 1px, 134px 0 0 1px, 135px 0 0 1px, 138px 0 0 1px, 141px 0 0 1px, 144px 0 0 1px, 147px 0 0 1px, 148px 0 0 1px, 151px 0 0 1px, 155px 0 0 1px, 158px 0 0 1px, 162px 0 0 1px, 165px 0 0 1px, 168px 0 0 1px, 173px 0 0 1px, 176px 0 0 1px, 177px 0 0 1px, 180px 0 0 1px;\r\n  display: inline-block;\r\n  transform: translateX(-90px);\r\n}\r\ntable {\r\n\t//border-collapse: collapse;\r\n\twidth: 100%;\r\n   max-width: 100%;\r\n   table-layout: fixed !important;\r\n   border-collapse:separate;\r\n   border:solid white 1px;\r\n   border-radius: 8px;\r\n}\r\n.employee-Payroll-table{\r\n\timg{\r\n\t\twidth: 30px;\r\n\t\theight:30px;\r\n\t}\r\n}\r\n.v-data-table table{\r\n   thead,\r\n   tbody,\r\n   tfoot {\r\n      tr {\r\n         td {\r\n            vertical-align: middle;\r\n            font-size: 13px !important;\r\n            font-weight: 400 !important;\r\n            line-height: 20px !important;\r\n            color: rgba(0, 0, 0, 0.87) !important;\r\n            height: 3.75rem  !important;\r\n            border-bottom:0 !important;\r\n         }\r\n         th {\r\n            vertical-align: middle;\r\n            font-size: 14px !important;\r\n            font-weight: 600;\r\n            line-height: 20px !important;\r\n            color: rgba(0, 0, 0, 0.87) !important;\r\n            height: 3.75rem  !important;\r\n            border-bottom:0 !important;\r\n         }\r\n         th.text-center{\r\n            text-align: left !important;\r\n         }\r\n      }\r\n   }\r\n   tr {\r\n      border: none !important;\r\n   }\r\n   thead {\r\n      tr {\r\n         background-color: $base-light;\r\n         th{\r\n            font-weight: 500;\r\n         }\r\n      }\r\n   }\r\n   tbody {\r\n      tr:nth-child(even) {\r\n         background-color: $base-light;\r\n      }\r\n   }\r\n}\r\n\r\n@media (max-width: 768px) and (min-width: 320px) {\r\n\r\n   table{\r\n      tbody tr td{\r\n         font-size:0.875rem;\r\n      }\r\n\t}\r\n\t.v-data-table-header-mobile__wrapper{\r\n\t\twidth:90px;\r\n\t}\r\n}\r\n\r\n.table-responsive{\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\toverflow-x: scroll !important;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}